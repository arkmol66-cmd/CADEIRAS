<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Cadeiras — Vídeos</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f4f4f4;margin:0}
header{background:#222;color:#fff;padding:15px;text-align:center}
.container{padding:15px}
.card{background:#fff;padding:10px;margin:10px 0;border-radius:10px}
input{width:100%;padding:10px;margin-top:10px}
button{margin-top:10px;padding:10px;width:100%;background:#0a84ff;color:#fff;border:0;border-radius:8px}
iframe{width:100%;aspect-ratio:16/9;border:0;border-radius:10px}
.msg{color:red;margin-top:6px}
a{display:block;margin-top:12px;text-align:center}
</style>
</head>
<body>

<header><h1>Vídeos</h1></header>

<div class="container">
  <h3>Enviar Vídeo (somente links com /watch)</h3>

  <input id="inputVideo" placeholder="Cole o link do vídeo aqui">
  <button onclick="addVideo()">Enviar</button>
  <div id="msgVideo" class="msg"></div>

  <div id="listaVideos"></div>

  <a href="shorts.html">Ir para /shorts</a>
</div>

<script>
function toEmbedWatch(url){
  try{
    const u = new URL(url);
    const v = u.searchParams.get("v");
    if(v) return "https://www.youtube.com/embed/" + v;
  }catch(e){}
  return null;
}

function addVideo(){
  const url = document.getElementById("inputVideo").value.trim();
  const msg = document.getElementById("msgVideo");
  msg.textContent = "";

  if(!url.includes("/watch")){
    msg.textContent = "❌ Só é permitido link com /watch";
    return;
  }

  const embed = toEmbedWatch(url);
  if(!embed){
    msg.textContent = "❌ Link inválido";
    return;
  }

  const box = document.createElement("div");
  box.className = "card";
  box.innerHTML = `<iframe src="${embed}" allowfullscreen></iframe>`;
  document.getElementById("listaVideos").prepend(box);
  document.getElementById("inputVideo").value = "";
}
</script>

</body>
</html>
